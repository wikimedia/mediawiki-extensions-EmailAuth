{
	"name": "EmailAuth",
	"version": "0.1.0",
	"author": [
		"Tisza GergÅ‘"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:EmailAuth",
	"descriptionmsg": "emailauth-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "access",
	"requires": {
		"MediaWiki": ">= 1.46"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\EmailAuth\\": "includes/"
	},
	"SpecialPages": {
		"AccountRecovery": {
			"class": "MediaWiki\\Extension\\EmailAuth\\AccountRecovery\\Special\\SpecialAccountRecovery",
			"services": [
				"EmailAuth.ZendeskClient",
				"Emailer",
				"MicroStash",
				"FormatterFactory",
				"EmailAuth.AuthenticationLogger"
			]
		}
	},
	"ExtensionMessagesFiles": {
		"EmailAuthAlias": "EmailAuth.alias.php"
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"ConfigRegistry": {
		"emailauth": "MediaWiki\\Config\\GlobalVarConfig::newInstance"
	},
	"config": {
		"EmailAuthUnmaskedDomains": {
			"description": "Email domains that are unmasked during their display in EmailAuth UI components",
			"value": [
				"gmail.com",
				"googlemail.com",
				"hotmail.com",
				"yahoo.com"
			]
		},
		"EmailAuthZendeskUrl": {
			"value": null,
			"description": "Base URL for Zendesk API (must be configured in LocalSettings.php)"
		},
		"EmailAuthZendeskHTTPProxy": {
			"value": null,
			"description": "HTTP proxy for Zendesk requests"
		},
		"EmailAuthZendeskEmail": {
			"value": null,
			"description": "Email address for Zendesk API authentication (must be configured in LocalSettings.php)"
		},
		"EmailAuthZendeskToken": {
			"value": null,
			"description": "API token for Zendesk authentication (must be configured in LocalSettings.php)"
		},
		"EmailAuthZendeskSubjectLine": {
			"value": null,
			"description": "Default subject line for account recovery tickets (must be configured in LocalSettings.php)"
		},
		"EmailAuthZendeskTicketFormId": {
			"value": null,
			"description": "Zendesk ticket form ID for account recovery requests (must be configured in LocalSettings.php)"
		},
		"EmailAuthZendeskCustomFields": {
			"value": null,
			"description": "Custom fields to include in Zendesk tickets (array of ['id' => field_id, 'value' => field_value]). Supports placeholders: {username} (requester_name), {registered_email} (registered_email). Fields with empty values after placeholder replacement are excluded."
		},
		"EmailAuthZendeskTags": {
			"value": null,
			"description": "Tags to apply to Zendesk tickets (array of strings)"
		},
		"EmailAuthEnableAccountRecovery": {
			"value": false,
			"description": "Enable the Special:AccountRecovery page for account recovery requests via Zendesk. Must be enabled and Zendesk must be configured for the feature to work."
		},
		"EmailAuthAccountRecoveryTokenExpiry": {
			"value": 900,
			"description": "Number of seconds that an email confirmation link sent by Special:AccountRecovery should be valid for"
		}
	},
	"MessagesDirs": {
		"EmailAuth": [
			"i18n"
		]
	},
	"HookHandlers": {
		"main": {
			"class": "MediaWiki\\Extension\\EmailAuth\\Hooks"
		}
	},
	"Hooks": {
		"AuthChangeFormFields": "main"
	},
	"AuthManagerAutoConfig": {
		"secondaryauth": {
			"EmailAuthSecondaryAuthenticationProvider": {
				"class": "MediaWiki\\Extension\\EmailAuth\\EmailAuthSecondaryAuthenticationProvider",
				"services": [
					"FormatterFactory"
				],
				"sort": 50
			}
		}
	},
	"manifest_version": 2
}
